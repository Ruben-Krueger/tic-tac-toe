<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic-Tac-Toe</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>
    <link rel="stylesheet" href="main.css"/>
</head>
<body>

<div class="container">

    <div class="row">
        <div class="col">
            <h1 class="text-center">Tic-Tac-Toe</h1>
            <canvas id="game" width="400" height="400"></canvas>
        </div>
    </div>
</div>


<script type="text/javascript">

    // TODO: Fix outline bug

    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const ROW_LENGTH = 3;
    const COL_LENGTH = 3;
    const NUM_SQUARES = ROW_LENGTH * COL_LENGTH;
    const FIRST_PLAYER = "X";

    class Square {

        constructor(r, c) {
            this.width = 100;
            this.height = 100;
            this.x = r * this.width;
            this.y = c * this.height;
            this.player = "";
        }

        render() {
            ctx.rect(this.x, this.y, this.width, this.height);
            ctx.strokeStyle="white";
            ctx.lineWidth="6";
            ctx.stroke();
        }

    }

    class Board {

        constructor() {
            this.squares = [[]];

            for(let i = 0; i < ROW_LENGTH; i ++) {

                // Because of Javascript memory
                this.squares.push([]);

                for(let j = 0; j < COL_LENGTH; j ++) {
                    console.log(`i: ${i}, j: ${j}`);
                    console.log(this.squares);
                    this.squares[i][j] = new Square(i,j);
                }
            }
        }

        render() {
            for(let i = 0; i < ROW_LENGTH; i ++) {
                for(let j = 0; j < COL_LENGTH; j ++) {
                    this.squares[i][j].render();
                }
            }
        }

        checkWinner() {

        }

    }

    class Game {

        // board = [[]];

        update() {

        }

        checkWinner() {
            this.board.checkWinner();
        }

        constructor() {
            this.board = new Board();
            this.nextPlayer = FIRST_PLAYER;
        }

        render() {
            this.board.render();
        }

    }

    game = new Game();


    setInterval(game.render(), 100);


</script>


</body>
</html>
